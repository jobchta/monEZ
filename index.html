<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#846941">
    <meta name="description" content="monEZ - Split expenses, not friendships">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23846941'/><text x='50' y='65' font-size='50' text-anchor='middle' fill='white'>üí∞</text></svg>">
    <link rel="manifest" href="manifest.json">
    <title>monEZ - Split expenses, not friendships</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="styles/variables.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
</head>
<body>
    <div class="app">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <div class="logo-large">mon<span class="accent">EZ</span></div>
                <div class="tagline">Split expenses, not friendships</div>
                <div class="loading-spinner"></div>
                <div class="loading-text">Loading your financial companion...</div>
            </div>
        </div>

        <!-- Login Screen -->
<div id="login-screen" class="login-screen" style="display: flex;">
    <div class="login-content">
        <div class="logo-large">mon<span class="accent">EZ</span></div>
        <div class="tagline">Split expenses, not friendships</div>
        <button class="login-button" onclick="signInWithGoogle()">
            <span>üöÄ</span>
            Sign in with Google
        </button>
        <div class="login-features">
            Real-time sync ‚Ä¢ Secure ‚Ä¢ Free
        </div>
    </div>
</div>


        <!-- PWA Install Prompt -->
        <div id="pwa-prompt" class="pwa-prompt hidden">
            <div class="pwa-content">
                <div class="pwa-icon">üì±</div>
                <div class="pwa-text">
                    <h3>Install monEZ</h3>
                    <p>Get the full app experience on your home screen</p>
                </div>
                <div class="pwa-actions">
                    <button class="btn-secondary" onclick="dismissPWAPrompt()">Maybe later</button>
                    <button class="btn-primary" onclick="installPWA()">Install</button>
                </div>
            </div>
        </div>

        <!-- Main App -->
        <div id="main-app" style="display: none;">
            <!-- App Header -->
            <header class="app-header">
                <div class="header-left">
                    <div class="logo">mon<span class="accent">EZ</span></div>
                    <div class="balance-summary">
                        <div class="balance-label">Your balance</div>
                        <div class="balance-amount" id="balance-hero">‚Çπ1,160</div>
                    </div>
                </div>
                <div class="header-right">
                    <button class="icon-btn" onclick="showNotifications()">
                        <span class="icon">üîî</span>
                        <span class="badge">3</span>
                    </button>
                    <button class="icon-btn" onclick="showProfile()">
                        <div class="avatar">Y</div>
                    </button>
                </div>
            </header>

            <!-- Views Container -->
            <main class="main-content">
                <!-- Home View -->
                <div id="home-view" class="view active">
                    <!-- Quick Stats -->
                    <div class="quick-stats">
                        <div class="stat-card positive">
                            <div class="stat-icon">üíö</div>
                            <div class="stat-content">
                                <div class="stat-label">You're owed</div>
                                <div class="stat-value">‚Çπ1,320</div>
                            </div>
                        </div>
                        <div class="stat-card negative">
                            <div class="stat-icon">üí∏</div>
                            <div class="stat-content">
                                <div class="stat-label">You owe</div>
                                <div class="stat-value">‚Çπ865</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <button class="action-card primary" onclick="showAddExpense()">
                            <div class="action-icon">‚ûï</div>
                            <div class="action-label">Add Expense</div>
                        </button>
                        <button class="action-card" onclick="showSplitBill()">
                            <div class="action-icon">üßÆ</div>
                            <div class="action-label">Split Bill</div>
                        </button>
                        <button class="action-card" onclick="showSettle()">
                            <div class="action-icon">üí≥</div>
                            <div class="action-label">Settle Up</div>
                        </button>
                        <button class="action-card premium" onclick="showPremiumFeatures()">
                            <div class="action-icon">‚ú®</div>
                            <div class="action-label">AI Insights</div>
                            <div class="premium-badge">PRO</div>
                        </button>
                    </div>

                    <!-- Recent Activity -->
                    <section class="activity-section">
                        <div class="section-header">
                            <h3>Recent Activity</h3>
                            <button class="view-all" onclick="showExpenses()">View all</button>
                        </div>
                        <div id="recent-expenses" class="activity-list"></div>
                    </section>

                    <!-- Groups Preview -->
                    <section class="groups-section">
                        <div class="section-header">
                            <h3>Your Groups</h3>
                            <div class="group-limit">2/3 groups</div>
                            <button class="view-all" onclick="showGroups()">View all</button>
                        </div>
                        <div class="groups-preview" id="groups-preview"></div>
                    </section>
                </div>

                <!-- Add Expense View -->
                <div id="add-expense-view" class="view">
                    <div class="view-header">
                        <button class="back-btn" onclick="showHome()">‚Üê</button>
                        <h2>Add Expense</h2>
                        <button class="voice-btn" onclick="startVoiceInput()">üé§</button>
                    </div>
            
                    <form id="expense-form" class="expense-form">
                        <div class="form-group">
                            <label class="form-label">Amount</label>
                            <div class="amount-input-container">
                                <span class="currency-symbol">‚Çπ</span>
                                <input type="number" id="amount" class="form-input amount-field" placeholder="0.00" step="0.01" required>
                                <button type="button" class="ai-suggest-btn" onclick="aiSuggestAmount()" title="AI Suggestion">
                                    <span class="ai-icon">ü§ñ</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <input type="text" id="description" class="form-input" placeholder="What was this for?" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <div class="category-selector">
                                <button type="button" class="category-btn" data-category="üçΩÔ∏è">üçΩÔ∏è Food</button>
                                <button type="button" class="category-btn" data-category="üöó">üöó Transport</button>
                                <button type="button" class="category-btn" data-category="üé¨">üé¨ Entertainment</button>
                                <button type="button" class="category-btn" data-category="üõçÔ∏è">üõçÔ∏è Shopping</button>
                                <button type="button" class="category-btn" data-category="üí°">üí° Bills</button>
                                <button type="button" class="category-btn" data-category="‚úàÔ∏è">‚úàÔ∏è Travel</button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Split with</label>
                            <div class="people-selector" id="people-selector"></div>
                        </div>
                        
                        <div class="split-options">
                            <div class="split-type">
                                <button type="button" class="split-btn active" data-type="equal">Equal Split</button>
                                <button type="button" class="split-btn" data-type="percentage">By Percentage</button>
                                <button type="button" class="split-btn premium" data-type="custom" onclick="showPremiumModal()">Custom Split <span class="pro-tag">PRO</span></button>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-secondary" onclick="showHome()">Cancel</button>
                            <button type="submit" class="btn-primary">
                                <span class="btn-text">Save Expense</span>
                                <span class="btn-icon">üíæ</span>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Expenses View -->
                <div id="expenses-view" class="view">
                    <div class="view-header">
                        <button class="back-btn" onclick="showHome()">‚Üê</button>
                        <h2>All Expenses</h2>
                        <button class="filter-btn" onclick="showFilters()">üîç</button>
                    </div>
                    
                    <div class="expenses-stats">
                        <div class="stat-summary">
                            <div class="stat-item">
                                <span class="stat-number" id="total-expenses">‚Çπ8,450</span>
                                <span class="stat-label">Total Spent</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="this-month">‚Çπ3,280</span>
                                <span class="stat-label">This Month</span>
                            </div>
                        </div>
                    </div>
            
                    <div class="activity-list" id="all-expenses-list"></div>
                </div>

                <!-- Balances View -->
                <div id="balances-view" class="view">
                    <div class="view-header">
                        <button class="back-btn" onclick="showHome()">‚Üê</button>
                        <h2>Balances</h2>
                        <button class="settle-all-btn" onclick="settleAll()">Settle All</button>
                    </div>
            
                    <div class="balances-list" id="balances-list"></div>
                </div>

                <!-- Groups View -->
                <div id="groups-view" class="view">
                    <div class="view-header">
                        <button class="back-btn" onclick="showHome()">‚Üê</button>
                        <h2>Groups</h2>
                        <button class="create-group-btn" onclick="showCreateGroup()">+</button>
                    </div>
                    
                    <div class="groups-grid" id="groups-grid"></div>
                </div>

                <!-- Premium Features View -->
                <div id="premium-view" class="view">
                    <div class="view-header">
                        <button class="back-btn" onclick="showHome()">‚Üê</button>
                        <h2>Premium Features</h2>
                        <div class="premium-status">FREE TIER</div>
                    </div>
                    
                    <div id="premium-features"></div>
                </div>

                <!-- Settings View -->
                <div id="settings-view" class="view">
                    <div class="view-header">
                        <button class="back-btn" onclick="showHome()">‚Üê</button>
                        <h2>Settings</h2>
                    </div>
                    
                    <div class="settings-sections">
                        <div class="settings-section">
                            <h3>Account</h3>
                            <div class="setting-item" onclick="showProfile()">
                                <div class="setting-icon">üë§</div>
                                <div class="setting-content">
                                    <div class="setting-title">Profile</div>
                                    <div class="setting-desc">Manage your account details</div>
                                </div>
                                <div class="setting-arrow">‚Ä∫</div>
                            </div>
                            <div class="setting-item" onclick="showPaymentMethods()">
                                <div class="setting-icon">üí≥</div>
                                <div class="setting-content">
                                    <div class="setting-title">Payment Methods</div>
                                    <div class="setting-desc">UPI, Cards, Bank accounts</div>
                                </div>
                                <div class="setting-arrow">‚Ä∫</div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3>App</h3>
                            <div class="setting-item">
                                <div class="setting-icon">üîî</div>
                                <div class="setting-content">
                                    <div class="setting-title">Notifications</div>
                                    <div class="setting-desc">Push notifications, reminders</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-icon">üåô</div>
                                <div class="setting-content">
                                    <div class="setting-title">Dark Mode</div>
                                    <div class="setting-desc">Switch to dark theme</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h3>Premium</h3>
                            <div class="setting-item premium" onclick="showPremiumFeatures()">
                                <div class="setting-icon">‚ú®</div>
                                <div class="setting-content">
                                    <div class="setting-title">Upgrade to Premium</div>
                                    <div class="setting-desc">Unlock AI features & analytics</div>
                                </div>
                                <div class="upgrade-badge">UPGRADE</div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav">
                <button class="nav-item active" data-view="home" onclick="showHome()">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-label">Home</span>
                </button>
                <button class="nav-item" data-view="expenses" onclick="showExpenses()">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-label">Expenses</span>
                </button>
                <button class="nav-item" data-view="balances" onclick="showBalances()">
                    <span class="nav-icon">‚öñÔ∏è</span>
                    <span class="nav-label">Balances</span>
                </button>
                <button class="nav-item" data-view="groups" onclick="showGroups()">
                    <span class="nav-icon">üë•</span>
                    <span class="nav-label">Groups</span>
                    <span class="group-count">2</span>
                </button>
                <button class="nav-item" data-view="premium" onclick="showPremiumFeatures()">
                    <span class="nav-icon">‚ú®</span>
                    <span class="nav-label">Premium</span>
                    <span class="premium-indicator">PRO</span>
                </button>
            </nav>
        </div>

        <!-- Floating Add Button -->
        <button class="fab" onclick="showAddExpense()">
            <span class="fab-icon">+</span>
        </button>

        <!-- Modals -->
        <div id="premium-modal" class="modal hidden">
            <div class="modal-overlay" onclick="closePremiumModal()"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>‚ú® Premium Features</h3>
                    <button class="modal-close" onclick="closePremiumModal()">√ó</button>
                </div>
                <div class="premium-features-list"></div>
            </div>
        </div>
    </div>


<script type="module" src="js/utils.js"></script>
<script type="module" src="js/render.js"></script>
<script type="module" src="js/views.js"></script>
<script type="module" src="js/firebase.js"></script>
<script type="module" src="js/app.js"></script>

   
</body>
</html>
